import{u as y,r as l,o as i,c as r,a as s,b as c,t as m,d as w,w as h,e as p,v}from"./index-60104c19.js";import{a as x}from"./api-d4d3630e.js";import{_ as k}from"./_plugin-vue_export-helper-c27b6911.js";const L={class:"login-page min-vh-100 d-flex align-items-center py-5"},S={class:"container"},P={class:"row justify-content-center"},V={class:"col-md-6 col-lg-5"},A={class:"card shadow-lg border-0 rounded-lg"},I={class:"card-body p-4"},M={key:0,class:"alert alert-danger alert-dismissible fade show",role:"alert"},N={class:"form-floating mb-3"},B=["disabled"],E={class:"form-floating mb-3"},T=["disabled"],j=["disabled"],q={key:0,class:"spinner-border spinner-border-sm me-2",role:"status"},z={key:1,class:"bi bi-box-arrow-in-right me-2"},C={__name:"Login",setup(D){const b=y(),n=l(""),d=l(""),o=l(!1),a=l(""),g=async()=>{var u,e;try{o.value=!0,a.value="";const t=await x.login({email:n.value,password:d.value}),{token:_,user:f}=t.data;localStorage.setItem("token",_),localStorage.setItem("user",JSON.stringify(f)),b.push("/dashboard")}catch(t){a.value=((e=(u=t.response)==null?void 0:u.data)==null?void 0:e.message)||"Terjadi kesalahan saat login",console.error("Login error:",t)}finally{o.value=!1}};return(u,e)=>(i(),r("div",L,[s("div",S,[s("div",P,[s("div",V,[s("div",A,[e[7]||(e[7]=s("div",{class:"card-header bg-primary text-white text-center py-4"},[s("h3",{class:"mb-0 fw-bold"},[s("i",{class:"bi bi-mortarboard-fill me-2"}),c(" SMP Quiz App ")])],-1)),s("div",I,[e[6]||(e[6]=s("h4",{class:"text-center mb-4"},"Login",-1)),a.value?(i(),r("div",M,[e[3]||(e[3]=s("i",{class:"bi bi-exclamation-triangle-fill me-2"},null,-1)),c(" "+m(a.value)+" ",1),s("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=t=>a.value="")})])):w("",!0),s("form",{onSubmit:h(g,["prevent"]),class:"needs-validation",novalidate:""},[s("div",N,[p(s("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>n.value=t),required:"",placeholder:"Email",disabled:o.value},null,8,B),[[v,n.value]]),e[4]||(e[4]=s("label",{for:"email"},"Email",-1))]),s("div",E,[p(s("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>d.value=t),required:"",placeholder:"Password",disabled:o.value},null,8,T),[[v,d.value]]),e[5]||(e[5]=s("label",{for:"password"},"Password",-1))]),s("button",{type:"submit",class:"btn btn-primary w-100 py-2",disabled:o.value},[o.value?(i(),r("span",q)):(i(),r("i",z)),c(" "+m(o.value?"Loading...":"Login"),1)],8,j)],32)]),e[8]||(e[8]=s("div",{class:"card-footer text-center py-3 bg-light"},[s("div",{class:"small text-muted"}," Â© 2024 SMP Quiz App. All rights reserved. ")],-1))])])])])]))}},O=k(C,[["__scopeId","data-v-35e2d690"]]);export{O as default};
